CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_bananapi_bpi-r4=y

#
# Kernel & system
#
CONFIG_KERNEL_KALLSYMS=y
CONFIG_KERNEL_KALLSYMS_ALL=n
CONFIG_KERNEL_KALLSYMS_UNCOMPRESSED=y
CONFIG_KERNEL_STACKPROTECTOR=y
CONFIG_KERNEL_STACKPROTECTOR_STRONG=y
CONFIG_KERNEL_DEVTMPFS=y
CONFIG_KERNEL_DEVTMPFS_MOUNT=y
CONFIG_KERNEL_PROC_FS=y
CONFIG_KERNEL_SYSFS=y

# Fix Mediatek kernel requirements
CONFIG_PINCTRL_MT7987=y
CONFIG_COMMON_CLK_MT7987=y
CONFIG_MEDIATEK_NETSYS_V2=y
CONFIG_MEDIATEK_NETSYS_V3=y
CONFIG_MTK_SCP=n
CONFIG_REMOTEPROC_CDEV=n
CONFIG_VIRTIO_BLK=n
CONFIG_VIRTIO_NET=n

#
# Platform drivers
#
CONFIG_PACKAGE_kmod-phy-airoha-en8811h=y
CONFIG_PACKAGE_kmod-phy-realtek=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-dwc3=y

#
# WiFi - MT7996 (stock Mediatek)
#
CONFIG_PACKAGE_kmod-mt7996=y
CONFIG_PACKAGE_mt7996-firmware=y

#
# Network
#
CONFIG_PACKAGE_kmod-mii=y
CONFIG_PACKAGE_kmod-ppp=y
CONFIG_PACKAGE_kmod-pppoe=y
CONFIG_PACKAGE_kmod-pppol2tp=y
CONFIG_PACKAGE_kmod-ipt-nat=y
CONFIG_PACKAGE_kmod-nf-nathelper=y
CONFIG_PACKAGE_kmod-nf-nathelper-extra=y

#
# 5G Modem support
#
CONFIG_PACKAGE_kmod-usb-net=y
CONFIG_PACKAGE_kmod-usb-net-qmi-wwan=y
CONFIG_PACKAGE_kmod-usb-serial=y
CONFIG_PACKAGE_kmod-usb-serial-option=y
CONFIG_PACKAGE_umbim=y
CONFIG_PACKAGE_uqmi=y
CONFIG_PACKAGE_chat=y

#
# Firewall / Services
#
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_dnsmasq-full=y

#
# Base system
#
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_ubi-utils=y

#
# LuCI
#
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-mod-network=y
CONFIG_PACKAGE_luci-mod-status=y
CONFIG_PACKAGE_luci-mod-system=y
CONFIG_PACKAGE_luci-theme-bootstrap=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-opkg=y

#
# Extra stability fixes
#
# Remove broken module
# (crypto-eip causes build failure with Mediatek feed)
CONFIG_PACKAGE_kmod-crypto-eip=n

# Disable extra firmware settings to avoid kernel conflicts
# (Mediatek feed already handles firmware)
CONFIG_KERNEL_EXTRA_FIRMWARE=""
CONFIG_KERNEL_EXTRA_FIRMWARE_DIR=""
